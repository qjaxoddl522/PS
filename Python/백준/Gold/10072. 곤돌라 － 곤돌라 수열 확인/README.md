# [Gold III] 곤돌라 - 곤돌라 수열 확인 - 10072 

[문제 링크](https://www.acmicpc.net/problem/10072) 

### 성능 요약

메모리: 44888 KB, 시간: 68 ms

### 분류

애드 혹, 많은 조건 분기, 구현

### 제출 일자

2025년 7월 7일 09:53:08

### 문제 설명

<p>마오공 곤돌라는 타이페이의 명소 중 하나이다. 곤돌라 시스템은 원형의 레일과, 하나의 정류장이 있고, 1 부터 n까지 순서대로 번호가 붙은 n개의 곤돌라가 모두 단일한 방향으로 레일을 따라 움직이는 형태이다. i번 곤돌라가 정류장을 지난 직후에는 i+1번 곤돌라가 정류장을 지나가게 된다. (단, i=n번 곤돌라가 지나간 직후에 1 번 곤돌라가 지나가게 된다.)</p>

<p>곤돌라들은 고장이 나기도 한다. 다행히 무제한으로 많은 곤돌라의 여분이 있고, 여분 곤돌라들은 n+1, n+2과 같이 순차적으로 번호가 붙어 있다. 특정한 곤돌라가 고장이 나면 고장난 곤돌라는 빼고, 동일한 위치에 여분 곤돌라를 배치한다. 여분 곤돌라는 작은 번호부터 사용된다. 예를 들어, 사용하는 곤돌라 수가 총 5 개이고, 1 번 곤돌라가 고장난다면, 그 곤돌라는 6번으로 교체된다.</p>

<p>당신은 정류장에 서서 곤돌라들이 지나가는 것을 즐겨 본다. 곤돌라 수열이라는 것은 임의의 시점에서 시작해서 정류장을 지나가는 n개의 곤돌라들의 번호를 순서대로 적은 것이다. 곤돌라 수열을 적기 시작하는 시점 이전에 이미 몇개의 곤돌라가 고장나서 교체되었을 수 있다. 하지만, 곤돌라 수열을 적는 도중에는 아무 곤돌라도 고장이 나지 않는다.</p>

<p>전체적으로 곤돌라들의 배치가 동일하더라도 어떤 시점에 곤돌라 수열을 적기 시작하느냐에 따라 서로 다른 곤돌라 수열이 나올수 있다는 점에 주의하자. 예를 들어, 총 5개의 곤돌라들 중 고장난 곤돌라가 없는 경우에 (2, 3, 4, 5, 1) 과 (4, 5, 1, 2, 3) 은 모두 가능한 곤돌라 수열들이다. 하지만, 이경우 (4, 3, 2, 5, 1) 은 가능한 곤돌라 수열이 아니다. (곤돌라 번호의 순서가 잘못되어 있다.)</p>

<p>만약 곤돌라 1번 만이 고장난 상황이라면, (4, 5, 6, 2, 3) 의 곤돌라 수열을 만들 수 있다. 만약 이후 4번 곤돌라가 고장난다면, 7번 곤돌라가 그 자리에 있게 되고, (6, 2, 3, 7, 5) 가 가능한 곤돌라 수열이 된다. 만약 7번 곤돌라가 이후에 고장이 난다면, 8번이 그 자리를 차지할 것이고 (3, 8, 5, 6, 2) 가 가능한 곤돌라 수열들 중 하나가 된다.</p>

<table class="table table-bordered" style="width:40%">
	<thead>
		<tr>
			<th>고장난 곤돌라</th>
			<th>새 곤돌라</th>
			<th>가능한 곤돌라 수열 중 하나</th>
		</tr>
		<tr>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>1</td>
			<td>6</td>
			<td>(4, 5, 6, 2, 3)</td>
		</tr>
		<tr>
			<td>4</td>
			<td>7</td>
			<td>(6, 2, 3, 7, 5)</td>
		</tr>
		<tr>
			<td>7</td>
			<td>8</td>
			<td>(3, 8, 5, 6, 2)</td>
		</tr>
	</tbody>
</table>

<p>교체 수열이라는 것은 고장난 곤돌라들의 번호를 고장난 순서에 따라 쓴 것이다. 직전의 예에서 교체 수열은 (1, 4, 7) 이다. 교체 수열 e이 곤돌라 수열 g를 만든다고 말을 할 수 있는데, 그것은 초기 상황에서 시작해서 r에 해당하는 방법으로 곤돌라들이 고장난 직후에, g가 가능한 곤돌라 수열들 중 하나인 경우를 의미한다.</p>

<p>이 문제에서는 입력 수열이 곤돌라 수열로서 가능한 것인지 확인하여야 한다. 몇 개의 곤돌라가 고장나서 교체된 상태일 수도 있다. 아래 표에는 곤돌라 수열인 예들과 곤돌라 수열이 아닌 예들이 나와 있다. 아래와 같이 선언된 valid 함수를 구현하여야 한다.</p>

<ul>
	<li>valid(n, inputSeq)
	<ul>
		<li>n: 입력 수열의 길이.</li>
		<li>inputSeq: 크기 n인 배열; inputSeq[i] 는 입력의 i번 원소이다 (0 ≤ i ≤ n-1).</li>
		<li>함수는 입력이 곤돌라 수열로서 가능한 경우 1을, 아닌 경우 0을 리턴해야 한다.</li>
	</ul>
	</li>
</ul>

### 입력 

 <p>첫째 줄에 입력 수열의 길이 n이 주어진다.</p>

<p>둘째 줄에는 inputSeq[0], ..., inputSeq[n-1]이 주어진다.</p>

### 출력 

 <p>valid함수의 리턴 값을 출력한다.</p>

